<html>
    <head>
        <style>
            body {
                padding: 30px;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            input {
                padding: 5px;
                font-size: larger;
            }
        </style>
    </head>
    <body>

        <h1>
            rock, paper, or scissors
        </h1>                
        <p>
            click your choice
        </p>
        
        <input id="rock_button" type="submit" value=rock>
        <input id="paper_button" type="submit" value=paper>
        <input id="scissors_button" type="submit" value=scissors>
        
        <input id="reset_button" type="submit" value="Try again">

        <div id="output"></div>

    </body>
    <script>

        let secret = undefined;
        let input = undefined;

        const rockButton = document.getElementById('rock_button');
        const paperButton = document.getElementById('paper_button');
        const scissorsButton = document.getElementById('scissors_button');
        const resetButton = document.getElementById('reset_button');
        const output = document.getElementById('output');

        function startOrResetGame() {
            secret = Math.floor(Math.random() * 3) + 1;

            resetButton.hidden = true;
            output.innerHTML = "";
        }


        rockButton.addEventListener('click', makeGuess);
        paperButton.addEventListener('click', makeGuess);
        scissorsButton.addEventListener('click', makeGuess);

        function makeGuess(e) {
            if (e.target.value == "rock") {
                input = 1;
            } else if (e.target.value == "paper") {
                input = 2;
            } else if (e.target.value == "scissors") {
                input = 3;
            }

            processGuess(input);
        }

        function processGuess(input) {
            
            if (input == secret) {
                output.innerHTML = "you win!";

                setGameOver();

                return;
            } else  {
                output.innerHTML = "nope";
            
                setGameOver();

                return;
            }
        }

        function setGameOver() {
            resetButton.hidden = false;
        }

        startOrResetGame();

        resetButton.addEventListener('click', startOrResetGame);

    </script>        
</html>